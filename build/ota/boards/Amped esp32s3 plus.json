{
  "id": "amped_esp32s3_plus",
  "name": "Amped-ESP32-S3 Plus",
  "description": "Amped-ESP32-S3 Plus (Rev K+) - PCM5122 DAC + TPA3128 22W Amp + Ethernet + Display",
  "revision": "K+",
  "manufacturer": "Sonocotta",
  
  "hardware": {
    "chip": "ESP32-S3",
    "board": "esp32-s3-devkitc-1",
    "variant": "ESP32S3",
    "flash_size_mb": 8,
    "cpu_freq_mhz": 240,
    "psram": {
      "mode": "octal",
      "speed_mhz": 80,
      "required": true
    }
  },
  
  "audio": {
    "dac_model": "PCM5122",
    "amplifier": "TPA3128",
    "mixer_mode": "STEREO",
    "max_power_watts": 22,
    "analog_gain_db": -6,
    "volume_min_db": -60,
    "volume_max_db": 0,
    "sample_rate": 48000,
    "max_sample_rate": 192000,
    "bit_depth": 24,
    "max_bit_depth": 32,
    "has_hardware_eq": false,
    "eq_bands": 0,
    "eq_type": "software_only",
    "comment": "PCM5122 has no DSP - use software EQ for equalization"
  },
  
  "pins": {
    "i2s": {
      "bck": 14,
      "ws": 15,
      "dout": 16,
      "din": -1,
      "comment": "BCK=GPIO14, WS(LRCLK)=GPIO15, DOUT=GPIO16"
    },
    "i2c": {
      "sda": 18,
      "scl": 8,
      "addr": "0x4D",
      "port": 0,
      "freq_hz": 400000,
      "scan": true,
      "timeout_us": 100,
      "comment": "PCM5122 I2C control - standard 400kHz supported"
    },
    "control": {
      "dac_enable": -1,
      "amp_enable": 17,
      "mute": -1,
      "comment": "TPA3128 enable on GPIO17, PCM5122 is always-on"
    },
    "peripherals": {
      "rgb_led": 21,
      "ir_rx": 7,
      "comment": "RGB LED WS2812 on GPIO21, IR receiver on GPIO7"
    },
    "ethernet": {
      "type": "W5500",
      "clk": 12,
      "mosi": 11,
      "miso": 13,
      "cs": 10,
      "interrupt": 6,
      "reset": 5,
      "comment": "W5500 Ethernet via SPI"
    },
    "spi": {
      "clk": 12,
      "mosi": 11,
      "miso": 13,
      "comment": "Shared with Ethernet and Display"
    },
    "display": {
      "type": "OLED",
      "interface": "SPI",
      "cs": 47,
      "dc": 38,
      "reset": 48,
      "comment": "SSD1306 or SH1106 compatible OLED (optional)"
    }
  },
  
  "features": {
    "ethernet": true,
    "wifi": true,
    "rgb_led": true,
    "ir_receiver": true,
    "oled_display": true,
    "hardware_eq": false,
    "software_eq": true,
    "fault_detection": false,
    "microphone": false
  },
  
  "init_sequence": [
    "1. Initialize I2C at 400kHz",
    "2. Configure PCM5122 via I2C",
    "3. Initialize I2S",
    "4. Enable TPA3128 amplifier (GPIO17 HIGH)"
  ],
  
  "notes": [
    "PCM5122 has NO hardware DSP - use software 18-band EQ for equalization",
    "Software EQ overhead: ~18ms @ 240MHz CPU",
    "TPA3128 amplifier enable on GPIO17 (active HIGH)",
    "PCM5122 supports up to 192kHz sample rate",
    "I2C at standard 400kHz frequency (has proper pull-ups)",
    "Ethernet and WiFi can be used simultaneously",
    "RGB LED uses WS2812 protocol on GPIO21",
    "OLED display via SPI (shared pins with Ethernet)",
    "Higher audio quality potential than TAS chips (less DSP coloration)"
  ],
  
  "compatible_with": [
    "ESP32-S3-WROOM-N8R8",
    "ESP32-S3-WROOM-1"
  ]
}
